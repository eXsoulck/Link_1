<!-- Modal_Log_in -->
<div class="modal my_modal" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" >

    <div class="modal-dialog" role="document">
        <div class="modal-content rounded-4 m_color">

            {% with messages = get_flashed_messages(category_filter=["login_error","authorise"]) %}
                {% if messages %}

                 <script>
                       window.onload = function () {
                           OpenBootstrapPopup();
                        };
                       function OpenBootstrapPopup() {
                           $("#staticBackdrop").modal('show');
                       }
                   </script>
                      {% for message in messages %}
                                   <div class="alert alert-danger" role="alert">{{ message }}</div>

                             {% endfor %}
                {% endif %}
            {% endwith %}

            <div class="modal-header p-5 pb-4 border-bottom-0">
                <!-- <h1 class="modal-title fs-5" >Modal title</h1> -->
                <h1 class="fw-bold mb-0">Log in form </h1>


                <form action="{{ url_for('clear_flash_msg')}}" method="post">
              <input name="current_url" type="hidden" value="{{ url_for(request.endpoint) }}">
              <button type="submit" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </form>
            </div>

            <div class="modal-body p-5 pt-0">
                <form class="" action="{{ url_for('login') }}" method="post">
                    <div class="form-floating mb-3">
                        <input name="u_email" type="email" class="form-control rounded-3" id="floatingInput"
                               placeholder="name@example.com" required>
                        <label for="floatingInput">Email address</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input name="u_pass" type="password" class="form-control rounded-3"
                               placeholder="Password" required>
                        <label for="floatingPassword">Password</label>
                    </div>
                    <button class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" type="submit">Log in</button>

                </form>

            </div>
        </div>
    </div>
</div>

<!-- Modal_Register -->
<div class="modal my_modal" id="registration" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">

    <div class="modal-dialog" role="document">
        <div class="modal-content rounded-4 m_color">
{# Flash msg#}


            {% with errors = get_flashed_messages(category_filter="regisret_error") %}
                {% if errors  %}
                 <script>
                       window.onload = function () {
                           OpenBootstrapPopup1();
                        };

                       function OpenBootstrapPopup1() {
                           $("#registration").modal('show');
                       }
                   </script>
                      {% for msg in errors %}
                                   <div class="alert alert-danger" role="alert">{{ msg }}</div>

                             {% endfor %}
                {% endif %}
            {% endwith %}

            <div class="modal-header p-5 pb-4 border-bottom-0">
                <!-- <h1 class="modal-title fs-5" >Modal title</h1> -->
                <h1 class="fw-bold mb-0">Register form </h1>
               <form action="{{ url_for('clear_flash_msg')}}" method="post">
              <input name="current_url" type="hidden" value="{{ url_for(request.endpoint) }}">
              <button type="submit" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </form>
            </div>

            <div class="modal-body p-5 pt-0">
                <form class="" action="{{ url_for('register') }}" method="post">
                    <div class="form-floating mb-3">
                        <input name="u_email" type="email" class="form-control rounded-3"
                               placeholder="name@example.com" required>
                        <label for="floatingInput">Email address</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input name="u_pass" type="password" class="form-control rounded-3"
                               placeholder="Password" required>
                        <label for="floatingPassword">Password</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input name="u_pass2" type="password" class="form-control rounded-3" id="floatingPassword"
                               placeholder="Password" required>
                        <label for="floatingPassword">Repeat your password</label>
                    </div>
                    <button class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" type="submit">Sign up</button>

                </form>

            </div>
        </div>
    </div>
</div>

<!-- Modal_Creating_New_link -->

<div class="modal fade" id="createlink" tabindex="-1" >
  <div class="modal-dialog">
    <div class="modal-content">

         {% with errors = get_flashed_messages(category_filter="link_error") %}
                {% if errors  %}
                 <script>
                       window.onload = function () {
                           OpenBootstrapPopup3();
                        };
                       function OpenBootstrapPopup3() {
                           $("#createlink").modal('show');
                       }
                   </script>
                      {% for msg in errors %}
                                   <div class="alert alert-danger" role="alert">{{ msg }}</div>

                             {% endfor %}
                {% endif %}
            {% endwith %}

      <div class="modal-header">
        <h1 class="modal-title fs-5">Modal title</h1>

          <form action="{{ url_for('clear_flash_msg')}}" method="post">
              <input name="current_url" type="hidden" value="{{ url_for(request.endpoint) }}">
              <button type="submit" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </form>

      </div>
      <div class="modal-body">
         <form action="{{ url_for('dashboard') }}" method="post" >
            <div class="form-group p-1">
                <label class="form-label fw-semibold">User Link :</label>
                <input  name="u_link" class="form-control"  placeholder="https://example.com/" required>
            </div>
            <div class="form-group p-1">
                <label class="form-label fw-semibold">Write some title for this link :</label>
                <input name="l_title" class="form-control"  required>
            </div>
            <div class="form-group p-1">
                <label class="form-label fw-semibold">Custom back-half (optional):</label>
                <input name="custom_part" type="text" class="form-control" placeholder="Your custom part of link (Optional)">
            </div>
            <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary" >Save changes</button>
      </div>
        </form>
      </div>

    </div>
  </div>
</div>



